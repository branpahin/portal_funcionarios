<ion-header>
  <ion-toolbar>
    <ion-title>
      <div class="responsive-title">Registro de Empleado</div>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cerrarModal()" fill="clear" style="color:white">
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="empleadoForm" (ngSubmit)="guardarEmpleado()">
    <div class="fecha-flotante">
      <ion-item lines="none">
        <ion-label>Actualización:</ion-label>
        <ion-input formControlName="FECHA_ACTUALIZACION" readonly></ion-input>
      </ion-item>
    </div>
    <ion-grid>


      <!-- Sección 1: Información Básica con Foto -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Información Personal</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <!-- Columna de datos -->
        <ion-col size="12" size-md="8">
          <ion-row>
            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('TIPO_IDENTIFICACION')">
              <ion-item (mousedown)="abrirModal('TIPO_IDENTIFICACION', tipoDocumento, 'descripcion', false)">
                <ion-input label="Tipo Documento" labelPlacement="floating" 
                  [value]="getGeneroDescripcion('TIPO_IDENTIFICACION', tipoDocumento) || 'Seleccione...'" readonly>
                </ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('TIPO_IDENTIFICACION')"></app-error-mensaje>
            </ion-col>

            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('IDENTIFICACION')">
              <ion-item>
                <ion-input label="Número de Identificación" labelPlacement="floating" formControlName="IDENTIFICACION"></ion-input>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('IDENTIFICACION')"></app-error-mensaje>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('NOMBRES')">
              <ion-item>
                <ion-input label="Nombres" labelPlacement="floating" formControlName="NOMBRES"></ion-input>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('NOMBRES')"></app-error-mensaje>
            </ion-col>

            <ion-col size="12" size-md="6">
              <ion-item>
                <ion-input label="Apellidos" labelPlacement="floating" formControlName="APELLIDOS"></ion-input>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('APELLIDOS')"></app-error-mensaje>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('FECHA_NACIMIENTO')">
              <ion-item>
                <ion-label position="fixed">Fecha de Nacimiento</ion-label>
                <ion-datetime-button datetime="datetime-nacimiento"></ion-datetime-button>
                <ion-modal [keepContentsMounted]="true">
                  <ng-template>
                    <ion-datetime id="datetime-nacimiento" (ionChange)="onFechaNacimientoChange($event)" presentation="date" display-format="DD/MM/YYYY"></ion-datetime>
                  </ng-template>
                </ion-modal>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('FECHA_NACIMIENTO')"></app-error-mensaje>
            </ion-col>

            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('ID_RAZA')">
              <ion-item (mousedown)="abrirModal('ID_RAZA', razas, 'descripcion', false)">
                <ion-input label="Raza" labelPlacement="floating" [value]="getGeneroDescripcion('ID_RAZA', razas) || 'Seleccione...'" readonly></ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('ID_RAZA')"></app-error-mensaje>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('GENERO')">
              <ion-item (mousedown)="abrirModal('GENERO', generos, 'descripcion', false)">
                <ion-input label="Género" labelPlacement="floating" [value]="getGeneroDescripcion('GENERO', generos) || 'Seleccione...'" readonly></ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('GENERO')"></app-error-mensaje>
            </ion-col>

            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('ID_SEXO')">
              <ion-item (mousedown)="abrirModal('ID_SEXO', sexos, 'descripcion', false)">
                <ion-input label="Sexo" labelPlacement="floating" [value]="getGeneroDescripcion('ID_SEXO', sexos) || 'Seleccione...'" readonly></ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('ID_SEXO')"></app-error-mensaje>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('ID_ORIENTACION_SEXUAL')">
              <ion-item (mousedown)="abrirModal('ID_ORIENTACION_SEXUAL', orientaciones_Sexuales, 'descripcion', false)">
                <ion-input label="Orientación sexual" labelPlacement="floating" [value]="getGeneroDescripcion('ID_ORIENTACION_SEXUAL', orientaciones_Sexuales) || 'Seleccione...'" readonly></ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('ID_ORIENTACION_SEXUAL')"></app-error-mensaje>
            </ion-col>

            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('ID_DISCAPACIDAD')">
              <ion-item (mousedown)="abrirModal('ID_DISCAPACIDAD', discapacidades, 'descripcion', false)">
                <ion-input label="Discapacidad" labelPlacement="floating" [value]="getGeneroDescripcion('ID_DISCAPACIDAD', discapacidades) || 'Seleccione...'" readonly></ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('ID_DISCAPACIDAD')"></app-error-mensaje>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('RH')">
              <ion-item (mousedown)="abrirModal('RH', rh, 'descripcion', false)">
                <ion-input label="Rh" labelPlacement="floating" [value]="getGeneroDescripcion('RH', rh) || 'Seleccione...'" readonly></ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('RH')"></app-error-mensaje>
            </ion-col>

            <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('ID_ESTADO_CIVIL')">
              <ion-item (mousedown)="abrirModal('ID_ESTADO_CIVIL', estadoCivil, 'descripcion', false)">
                <ion-input label="Estado Civil" labelPlacement="floating" [value]="getGeneroDescripcion('ID_ESTADO_CIVIL', estadoCivil) || 'Seleccione...'" readonly></ion-input>
                <ion-icon name="caret-down-outline" slot="end"></ion-icon>
              </ion-item>
              <app-error-mensaje [control]="empleadoForm.get('ID_ESTADO_CIVIL')"></app-error-mensaje>
            </ion-col>
          </ion-row>
        </ion-col>

        <!-- Columna de imagen -->
        <ion-col size="12" size-md="4" class="ion-text-center">
          <div class="imagen-container">
            <ion-img [src]="imagenPreview || '../../../assets/img/imagen-placeholder.png'" class="imagen-preview"></ion-img>
          </div>
          <div class="botones-imagen">
            <ion-button size="small" fill="outline" (click)="triggerFileInput()">
              {{ imagenPreview ? 'Editar Imagen' : 'Agregar Imagen' }}
            </ion-button>
            <ion-button size="small" fill="outline" color="danger" (click)="borrarImagen()" [disabled]="!imagenPreview">
              Borrar Imagen
            </ion-button>
          </div>
          <input type="file" accept="image/*" capture="environment" #fileInput (change)="onFileSelected($event)" hidden />
        </ion-col>
      </ion-row>

      <!-- Sección 2: Información de Contacto -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Información de Contacto</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('CORREO_PERSONAL')">
          <ion-item>
            <ion-input label="Correo Personal" labelPlacement="floating" formControlName="CORREO_PERSONAL"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('CORREO_PERSONAL')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('CORREO_CORPORATIVO')">
          <ion-item>
            <ion-input label="Correo Corporativo" labelPlacement="floating" formControlName="CORREO_CORPORATIVO"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('CORREO_CORPORATIVO')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('TELEFONO_CELULAR')">
          <ion-item>
            <ion-input label="Numero Celular" labelPlacement="floating" formControlName="TELEFONO_CELULAR"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('TELEFONO_CELULAR')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('NOMBRE_CONTACTO')">
          <ion-item>
            <ion-input label="Nombre Contacto" labelPlacement="floating" formControlName="NOMBRE_CONTACTO"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('NOMBRE_CONTACTO')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('TELEFONO_CONTACTO')">
          <ion-item>
            <ion-input label="Telefono Contacto" labelPlacement="floating" formControlName="TELEFONO_CONTACTO"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('TELEFONO_CONTACTO')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <!-- Sección 3: Dirección -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Dirección</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('CIUDAD_RESIDENCIA')">
          <ion-item>
            <ion-input label="Ciudad de Residencia" labelPlacement="floating" formControlName="CIUDAD_RESIDENCIA"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('CIUDAD_RESIDENCIA')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="8" *ngIf="empleadoForm.get('DIRECCION_RESIDENCIA')">
          <ion-item>
            <ion-input label="Dirección" labelPlacement="floating" formControlName="DIRECCION_RESIDENCIA"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('DIRECCION_RESIDENCIA')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <!-- Sección 4: Educación -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Educación</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_NIVEL_EDUCATIVO')">
          <ion-item (mousedown)="abrirModal('ID_NIVEL_EDUCATIVO', nivelesEducativos, 'descripcion', false)">
            <ion-input label="Nivel Educativo" labelPlacement="floating" [value]="getGeneroDescripcion('ID_NIVEL_EDUCATIVO', nivelesEducativos) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_NIVEL_EDUCATIVO')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ENTIDAD_PREGRADO')">
          <ion-item>
            <ion-input label="Entidad de Pregrado" labelPlacement="floating" formControlName="ENTIDAD_PREGRADO"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ENTIDAD_PREGRADO')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ENTIDAD_POSTGRADO')">
          <ion-item>
            <ion-input label="Entidad de Postgrado" labelPlacement="floating" formControlName="ENTIDAD_POSTGRADO"></ion-input>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ENTIDAD_POSTGRADO')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('ID_PROFESION')">
          <ion-item (mousedown)="abrirModal('ID_PROFESION', profesiones, 'descripcion', true)">
            <ion-input label="Profesión" labelPlacement="floating" 
              [value]="getListaSeleccion('ID_PROFESION', profesiones).length === 0 ? 'Seleccione...' : ''" 
              readonly>
            </ion-input>
            <ion-list *ngIf="getListaSeleccion('ID_PROFESION', profesiones).length > 0" lines="none" class="mt-2 ml-2">
              <ion-item *ngFor="let item of getListaSeleccion('ID_PROFESION', profesiones)" lines="none">
                <ion-icon name="ellipse" slot="start" size="small" color="primary"></ion-icon>
                <ion-label class="ion-text-wrap">{{ item }}</ion-label>
              </ion-item>
            </ion-list>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_PROFESION')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('ID_POSTGRADO')">
          <ion-item (mousedown)="abrirModal('ID_POSTGRADO', postgrado, 'descripcion', true)">
            <ion-input label="Posgrado" labelPlacement="floating" readonly
              [value]="getListaSeleccion('ID_POSTGRADO', postgrado).length === 0 ? 'Seleccione...' : ''">
            </ion-input>
            <ion-list *ngIf="getListaSeleccion('ID_POSTGRADO', postgrado).length > 0" lines="none" class="mt-2 ml-2">
              <ion-item *ngFor="let item of getListaSeleccion('ID_POSTGRADO', postgrado)" lines="none">
                <ion-icon name="ellipse" slot="start" size="small" color="primary"></ion-icon>
                <ion-label class="ion-text-wrap">{{ item }}</ion-label>
              </ion-item>
            </ion-list>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_POSTGRADO')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <!-- Sección 5: Familia -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Información Familiar</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('TIENE_HIJOS')">
          <ion-item (mousedown)="abrirModal('TIENE_HIJOS', tieneHijos, 'descripcion', false)">
            <ion-input label="¿Tiene hijos?" labelPlacement="floating" [value]="getGeneroDescripcion('TIENE_HIJOS', tieneHijos) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <ion-button *ngIf="empleadoForm.get('HIJOS_COLABORADOR_JSON') && empleadoForm.get('TIENE_HIJOS')?.value === 122" fill="clear" (click)="motrarHijos()" class="link-button">
            Mostrar Hijos
          </ion-button>
          <app-error-mensaje [control]="empleadoForm.get('TIENE_HIJOS')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <!-- Sección de Hijos (condicional) -->
      <ion-row *ngIf="mostrarHijo">
        <ion-col class="col-hijos" *ngIf="empleadoForm.get('HIJOS_COLABORADOR_JSON')">
          <ion-row>
            <ion-col>
              <ion-toolbar class="subtitulos">
                <ion-title>
                  <div class="responsive-title">HIJOS</div>
                </ion-title>
              </ion-toolbar>
            </ion-col>
          </ion-row>
          
          <ion-row formArrayName="HIJOS_COLABORADOR_JSON">
            <ion-col size="12" size-md="6" size-lg="4" *ngFor="let hijo of HIJOS_COLABORADOR_JSON.controls; let i = index" [formGroupName]="i">
              <div class="col-hijos-style">
                <ion-item>
                  <ion-label position="floating">Nombre Completo</ion-label>
                  <ion-input formControlName="NOMBRE_COMPLETO"></ion-input>
                </ion-item>
                <app-error-mensaje [control]="hijo.get('NOMBRE_COMPLETO')"></app-error-mensaje>
          
                <ion-item>
                  <ion-label position="floating">Edad</ion-label>
                  <ion-input type="string" formControlName="EDAD"></ion-input>
                </ion-item>
                <app-error-mensaje [control]="hijo.get('EDAD')"></app-error-mensaje>
          
                <ion-item>
                  <ion-label position="fixed">Fecha de Nacimiento</ion-label>
                  <ion-datetime-button [datetime]="'datetime-' + i"></ion-datetime-button>
                  <ion-modal [keepContentsMounted]="true">
                    <ng-template>
                      <ion-datetime [id]="'datetime-' + i" (ionChange)="onFechaNacimientoHijoChange($event, i)" 
                        presentation="date" display-format="DD/MM/YYYY">
                      </ion-datetime>
                    </ng-template>
                  </ion-modal>
                </ion-item>
                <app-error-mensaje [control]="hijo.get('FECHA_NACIMIENTO')"></app-error-mensaje>
                
                <ion-item>
                  <ion-select label="Genero" label-placement="floating" formControlName="GENERO" (click)="selec('generos')">
                    <ion-select-option *ngFor="let nivel of generos" [value]="nivel.id">
                      {{ nivel.descripcion }}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <app-error-mensaje [control]="hijo.get('GENERO')"></app-error-mensaje>
                
                <ion-item>
                  <ion-select label="RH" label-placement="floating" formControlName="RH" (click)="selec('rh')">
                    <ion-select-option *ngFor="let nivel of rh" [value]="nivel.descripcion">
                      {{ nivel.descripcion }}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <app-error-mensaje [control]="hijo.get('RH')"></app-error-mensaje>
                <ion-item>
                  <ion-select label="Tipo Documento" label-placement="floating" formControlName="ID_TP_DOCUMENTO" (click)="selec('tipoIdentificacion')">
                    <ion-select-option *ngFor="let nivel of tipoDocumento" [value]="nivel.id">
                      {{ nivel.descripcion }}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <app-error-mensaje [control]="hijo.get('ID_TP_DOCUMENTO')"></app-error-mensaje>

                <ion-item>
                  <ion-input label="Documento" labelPlacement="floating" formControlName="DOCUMENTO"></ion-input>
                </ion-item>
                <app-error-mensaje [control]="hijo.get('DOCUMENTO')"></app-error-mensaje>
          
                <ion-button (click)="eliminarHijo(i)" color="danger" expand="block">Eliminar</ion-button>
              </div>
            </ion-col>
          </ion-row>
          
          <ion-button (click)="agregarHijo()" expand="block">Agregar otro hijo</ion-button>
        </ion-col>
      </ion-row>

      <!-- Sección 6: Información de Empresa -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Información de Empresa</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('FECHA_INGRESO')">
          <ion-item>
            <ion-label position="fixed">Fecha de Ingreso</ion-label>
            <ion-datetime-button datetime="datetime-ingreso"></ion-datetime-button>
            <ion-modal [keepContentsMounted]="true">
              <ng-template>
                <ion-datetime id="datetime-ingreso" (ionChange)="onFechaIngresoChange($event)" presentation="date" display-format="DD/MM/YYYY"></ion-datetime>
              </ng-template>
            </ion-modal>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('FECHA_INGRESO')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="6" *ngIf="empleadoForm.get('CIUDAD_TRABAJO')">
          <ion-item (mousedown)="abrirModal('CIUDAD_TRABAJO', ciudadTrabajo, 'descripcion', false)">
            <ion-input label="Ciudad de trabajo" labelPlacement="floating" [value]="getGeneroDescripcion('CIUDAD_TRABAJO', ciudadTrabajo) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('CIUDAD_TRABAJO')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_EMPRESA')">
          <ion-item (mousedown)="abrirModal('ID_EMPRESA', empresas, 'descripcion', false)">
            <ion-input label="Empresa" labelPlacement="floating" [value]="getGeneroDescripcion('ID_EMPRESA', empresas) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_EMPRESA')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_SEDE')">
          <ion-item (mousedown)="abrirModal('ID_SEDE', sedes, 'descripcion', false)">
            <ion-input label="Sede" labelPlacement="floating" [value]="getGeneroDescripcion('ID_SEDE', sedes) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_SEDE')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_JEFE')">
          <ion-item (mousedown)="abrirModal('ID_JEFE', jefes, 'descripcion', false)">
            <ion-input label="Jefe" labelPlacement="floating" [value]="getGeneroDescripcion('ID_JEFE', jefes) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_JEFE')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_GERENCIA')">
          <ion-item (mousedown)="abrirModal('ID_GERENCIA', gerencias, 'descripcion', false)">
            <ion-input label="Gerencia" labelPlacement="floating" [value]="getGeneroDescripcion('ID_GERENCIA', gerencias) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_GERENCIA')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_AREA')">
          <ion-item (mousedown)="abrirModal('ID_AREA', areas, 'descripcion', false)">
            <ion-input label="Area" labelPlacement="floating" [value]="getGeneroDescripcion('ID_AREA', areas) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_AREA')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_CARGO')">
          <ion-item (mousedown)="abrirModal('ID_CARGO', cargos, 'descripcion', false)">
            <ion-input label="Cargo" labelPlacement="floating" [value]="getGeneroDescripcion('ID_CARGO', cargos) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_CARGO')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_ROL')">
          <ion-item (mousedown)="abrirModal('ID_ROL', roles, 'descripcion', false)">
            <ion-input label="Rol" labelPlacement="floating" [value]="getGeneroDescripcion('ID_ROL', roles) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_ROL')"></app-error-mensaje>
        </ion-col>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_RUBRO')">
          <ion-item (mousedown)="abrirModal('ID_RUBRO', rubros, 'descripcion', false)">
            <ion-input label="Rubro" labelPlacement="floating" [value]="getGeneroDescripcion('ID_RUBRO', rubros) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_RUBRO')"></app-error-mensaje>
        </ion-col>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_CCO')">
          <ion-item (mousedown)="abrirModal('ID_CCO', cco, 'descripcion', false)">
            <ion-input label="CCO" labelPlacement="floating" [value]="getGeneroDescripcion('ID_CCO', cco) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_CCO')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <!-- Sección 7: Dotación y Nómina -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Dotación y Nómina</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_TIPO_NOMINA')">
          <ion-item (mousedown)="abrirModal('ID_TIPO_NOMINA', tipoNomnina, 'descripcion', false)">
            <ion-input label="Nomina" labelPlacement="floating" [value]="getGeneroDescripcion('ID_TIPO_NOMINA', tipoNomnina) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_TIPO_NOMINA')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_TIPO_DOTACION')">
          <ion-item (mousedown)="abrirModal('ID_TIPO_DOTACION', tipoDotacion, 'descripcion', false)">
            <ion-input label="Dotación" labelPlacement="floating" [value]="getGeneroDescripcion('ID_TIPO_DOTACION', tipoDotacion) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_TIPO_DOTACION')"></app-error-mensaje>
        </ion-col>

        <ion-col size="12" size-md="4" *ngIf="empleadoForm.get('ID_NIVEL_DOTACION')">
          <ion-item (mousedown)="abrirModal('ID_NIVEL_DOTACION', nivelDotacion, 'descripcion', false)">
            <ion-input label="Nivel de dotación" labelPlacement="floating" [value]="getGeneroDescripcion('ID_NIVEL_DOTACION', nivelDotacion) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_NIVEL_DOTACION')"></app-error-mensaje>
        </ion-col>
      </ion-row>

      <!-- Sección 8: Seguridad y Documentación -->
      <ion-row>
        <ion-col>
          <ion-toolbar class="subtitulos">
            <ion-title>
              <div class="responsive-title">Seguridad y Documentación</div>
            </ion-title>
          </ion-toolbar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" size-md="3" *ngIf="empleadoForm.get('ARL')">
          <ion-item (mousedown)="abrirModal('ARL', arl, 'descripcion', false)">
            <ion-input label="Arl" labelPlacement="floating" [value]="getGeneroDescripcion('ARL', arl) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ARL')"></app-error-mensaje>
        </ion-col>

        <!-- <ion-col size="12" size-md="3">
          <ion-item (mousedown)="abrirModal('ID_TIPO_REGISTRO', tipoRegistro, 'descripcion', false)">
            <ion-input label="Tipo de registro" labelPlacement="floating" [value]="getGeneroDescripcion('ID_TIPO_REGISTRO', tipoRegistro) || 'Seleccione...'" readonly></ion-input>
            <ion-icon name="caret-down-outline" slot="end"></ion-icon>
          </ion-item>
          <app-error-mensaje [control]="empleadoForm.get('ID_TIPO_REGISTRO')"></app-error-mensaje>
        </ion-col> -->
      </ion-row>
    </ion-grid>
  </form>
</ion-content>

<ion-footer>
  <ion-toolbar class="btn" color="medium">
    <ion-button *ngIf="permisosService.puedeEditar()" style="margin-right: 2%;"  (click)="guardarEmpleado()">Guardar</ion-button>
  </ion-toolbar>
</ion-footer>